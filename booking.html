<!DOCTYPE html>
<html>
    <head>
        <title>Travel Agency - Bookings</title>
        <link rel="stylesheet" href = "style.css">
    </head>
    <body>
        <header>
            <h1>Book Your Trip</h1>
        </header>
        <nav>
            <a href = "index.html">Home</a>
            <a href = "packages.html">Packages</a>
            <a href = "booking.html">Booking</a>
            <a href = "gallery.html">Gallery</a>
            <a href = "contact.html">Contact us</a>
        </nav>
         <form id="bookingForm">
    <label>Check-in: <input type="date" id="checkIn" required></label>
    <label>Check-out: <input type="date" id="checkOut" required></label>
    <label>Guests: <input type="number" id="guests" min="1" value="1"></label>
    <label>Promo Code: <input type="text" id="promoCode"></label>
    <p>Total: ₹<span id="totalPrice">0</span></p>
    <button type="submit">Book Now</button>
  </form>

  <script>
    function calculateBooking() {
      const checkIn = new Date(document.getElementById("checkIn").value);
      const checkOut = new Date(document.getElementById("checkOut").value);
      const guests = parseInt(document.getElementById("guests").value);
      const promo = document.getElementById("promoCode").value.trim().toUpperCase();

      let nights = (checkOut - checkIn) / (1000*60*60*24);
      if (nights < 1 || isNaN(nights)) nights = 0;

      let baseRate = 2000; // per night
      let total = nights * baseRate;

      if (guests > 2) total *= 1.2;
      if (promo === "EARLYBIRD") total *= 0.9;

      document.getElementById("totalPrice").textContent = total.toFixed(0);
    }

    document.querySelectorAll("#checkIn, #checkOut, #guests, #promoCode")
      .forEach(el => el.addEventListener("input", calculateBooking));

    document.getElementById("bookingForm").addEventListener("submit", e => {
      e.preventDefault();
      if (document.getElementById("totalPrice").textContent === "0") {
        alert("Please enter valid details.");
        return;
      }
      alert("Booking Successful! Total: ₹" + document.getElementById("totalPrice").textContent);
    });
  </script>
    </body>
</html>